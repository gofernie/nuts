---
// src/components/RVEmbed.astro
export interface Props { blockId: string }
const { blockId } = Astro.props;
---

<section class="rv-section">
  <div class="rv-wrap">
    <div data-rv-block={blockId}></div>
  </div>

  <style>
    .rv-section { margin: 0; padding: 0; }

    .rv-wrap {
      display: block;
      margin: 0;
      padding: 0;
      line-height: 0;          /* kills inline-gap around iframes */
    }

    /* Let RV handle internal padding for height calcs — don't zero it out. */
    .rv-wrap > * {
      display: block;
      margin: 0;
      border: 0;
      width: 100%;
    }

    /* Remove only *margins* that create the “mystery gap” */
    .rv-wrap :where(iframe, .rv-container, [data-rv-block]) {
      margin-bottom: 0 !important;
    }

    /* If RV uses aspect-ratio padding-bottom trick, keep it! Only clamp extra spacing below */
    .rv-wrap [style*="margin-bottom"] { margin-bottom: 0 !important; }

    /* belt-and-suspenders */
    .rv-wrap::after { content: ""; display: block; height: 0; }
  </style>
</section>

<script is:inline>
  if (window?.RealtyVis?.init) {
    RealtyVis.init();
  }
</script>
