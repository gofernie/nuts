---
// File: src/pages/search/index.astro
import Site from "../../layouts/Site.astro";

const hero = "/img/hero/search_hero.webp";
const pageTitle = "Search Listings";
const pageSummary =
  "Find Fernie homes, condos, townhomes, and investment properties. Filter by price, beds, and more.";

const seo_title = "Search Fernie Real Estate Listings";
const seo_description =
  "Live Fernie MLSÂ® search: homes, condos, townhomes, investment properties. Filter and explore neighborhoods with up-to-date listings.";
---

<Site title={pageTitle} seo_title={seo_title} seo_description={seo_description}>
  <Fragment slot="head">
    <link rel="preload" as="image" href={hero} fetchpriority="high" />
  </Fragment>

  <!-- HERO (matches neighbourhoods via .hero-bleed in Site.astro) -->
  <section class="hero-bleed">
    <img
      src={hero}
      alt=""
      fetchpriority="high"
      loading="eager"
      decoding="async"
      width="2000"
      height="1000"
    />
  </section>

  <!-- H1 + intro (same spacing/typography as neighbourhoods) -->
  <div class="container intro">
    <h1>{pageTitle}</h1>
    <p>{pageSummary}</p>
  </div>

  <!-- RealtyVis Listings Embed (full-width bg, constrained inner container) -->
  <section class="rv-section">
    <div class="container">
      <div class="rv-wrapper">
        <div data-rv-block="MQP2VMLT-14Y2W8DC"></div>
        <script src="https://cdn.realtyvis.com/js/embed.js" is:inline></script>
      </div>
    </div>
  </section>

  <style>
    /* Match neighbourhoods page */
    .container { max-width: 1200px; margin-left: auto; margin-right: auto; padding: 0 1rem; }

    .intro { margin-top: 24px; margin-bottom: 20px; text-align: left; }
    .intro h1 { font-size: 2.25rem; font-weight: 700; margin: 0 0 8px 0; color: #111827; }
    .intro p { font-size: 1rem; line-height: 1.6; margin: 0; color: #1f2937; }

    .rv-section { background:#fafaf9; padding: 2.5rem 0; }
    .rv-wrapper {
      background:#fff;
      border-radius: 1rem;
      box-shadow: 0 2px 10px rgba(0,0,0,.05);
      padding: 1.25rem;
      border: 1px solid #eee;
    }
  </style>
</Site>
